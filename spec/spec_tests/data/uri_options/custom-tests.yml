tests:
    -
        description: "Mixed case in auth mechanism properties is preserved"
        uri: "mongodb://foo:bar@example.com/?authMechanism=GSSAPI&authMechanismProperties=PropertyName:PropertyValue&authSource=$external"
        valid: true
        warning: false
        hosts: ~
        auth: ~
        options:
            authMechanism: "GSSAPI"
            authMechanismProperties:
                PropertyName: PropertyValue
                service_name: mongodb
            authSource: "$external"
    -
        description: "Auth mechanism properties are all invalid"
        uri: "mongodb://foo:bar@example.com/?authMechanism=GSSAPI&authMechanismProperties=PropertyName&authSource=$external"
        valid: true
        warning: true
        hosts: ~
        auth: ~
        options:
            authMechanism: "GSSAPI"
            authMechanismProperties:
                service_name: mongodb
            authSource: "$external"
    # https://jira.mongodb.org/browse/DRIVERS-1369
    -
        description: "Valid and invalid readPreferenceTags mix"
        uri: "mongodb://example.com/?readPreferenceTags=a:b,invalid"
        valid: true
        warning: true
        hosts: ~
        auth: ~
        options:
            readPreferenceTags:
                -
                    a: b
    -
        description: Equal sign in auth mechanism properties
        uri: "mongodb://foo:bar@example.com/?authMechanismProperties=foo:a=bar&authMechanism=MONGODB-AWS"
        valid: true
        warning: false
        hosts: ~
        auth: ~
        options:
            authMechanismProperties:
              foo: a=bar
            authMechanism: MONGODB-AWS
    -
        description: directConnection=true and connect=direct
        uri: "mongodb://example.com/?directConnection=true&connect=direct"
        valid: true
        warning: false
        hosts: ~
        auth: ~
        options:
          directConnection: true
          connect: direct
    -
        description: directConnection=false and connect=direct
        uri: "mongodb://example.com/?directConnection=false&connect=direct"
        valid: false
        warning: false
        hosts: ~
        auth: ~
    -
        description: directConnection=true and connect=replica_set
        uri: "mongodb://example.com/?directConnection=true&connect=replica_set&replicaSet=foo"
        valid: false
        warning: false
        hosts: ~
        auth: ~
    -
        description: directConnection=false and connect=replica_set
        uri: "mongodb://example.com/?directConnection=false&connect=replica_set&replicaSet=foo"
        valid: true
        warning: false
        hosts: ~
        auth: ~
        options:
          directConnection: false
          connect: replica_set
          replicaSet: foo
    -
        description: directConnection=true and connect=sharded
        uri: "mongodb://example.com/?directConnection=true&connect=sharded"
        valid: false
        warning: false
        hosts: ~
        auth: ~
    -
        description: directConnection=false and connect=replica_set
        uri: "mongodb://example.com/?directConnection=false&connect=sharded"
        valid: true
        warning: false
        hosts: ~
        auth: ~
        options:
          directConnection: false
          connect: sharded
